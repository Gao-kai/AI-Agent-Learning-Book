# 如何调试Typescript项目

调试TypeScript项目的思路总体上分为两种：
1. 先使用tsc编译为js文件并开启sourcemap，然后使用node调试js文件，通过sourcemap映射到ts源文件
2. 直接使用tsx、ts-node等第三方ts运行时执行ts文件进行源文件调试

## 基于tsc compile + sourcemap + node
注意必须开启sourcemap，否则无法映射回ts源文件

```json
{
    name: "debug ts with tsc compile and sourcemap",
    type: "node",
    request: "launch",
    program: "${workspaceFolder}/dist/index.js",
    cwd: "${workspaceFolder}",
    console: "integratedTerminal",
    skipFiles: ["<node_internals>/**"],
}
```

## 基于tsx工具配合npx运行时直接调试

```json
{
    "name": "Debug with tsx",
    "type": "node",
    "request": "launch",
    "runtimeExecutable": "npx",
    "runtimeArgs": ["tsx"],
    "args": ["src/index.ts"],
    "skipFiles": ["<node_internals>/**"],
    "console": "integratedTerminal",
    "cwd": "${workspaceFolder}"
}
```